<!DOCTYPE <!DOCTYPE html>
<html>
    <head>
        <title>Homebase</title>
    </head>
    <style type="text/css">
     .center {
        display: block;
        margin-left: auto;
        margin-right: auto;
        width: 50%;
    }
    </style>
    <body>
        <h2 class="header" style="text-align:center;">Homebase</h2>
        <div id="pic">
            <img src="https://i.pinimg.com/originals/52/a4/7a/52a47ae75db90636e3b1b61309b5410d.jpg" class="center" style="width:200px; height:300px;"></img>
        </div>
        
        <br></br>
        
        <div id="form" action="" method="POST" style="text-align:center;">
            <form onsubmit="return false">
                User name:<br>
                <input type="text" id="userName" name="username"><br>
                User password:<br>
                <input type="password" id="passWord" name="psw"><br>
                <input type="submit" id="button">
            </form>
        </div>
        <div style="text-align:center;">
            User logged in:<br>
            <p id="user"></p>
        </div>
    </body>
<script>
/*global fetch*/

var api = "https://cors-anywhere.herokuapp.com/http://careerdev-teaching-lujason2015.c9users.io/api"; 

document.getElementById('button').addEventListener('click', submitButton); //(string, function)

const username = document.getElementById("userName");
const psw = document.getElementById("passWord");

var data = {"username": username, "password": psw};
function submitButton() {
return fetch(api, {
    method: "POST",
    body: JSON.stringify(data),
    header: {
        "Content-Type": "application/json"
    }
    }).then(async function(response){
        const res = await response;
        console.log(res);
    }).then(res => res.json())
    .then(response => console.log('Success:', JSON.stringify(response)))
    .catch(error => console.error('Error:', error));
}
</script>
</html>